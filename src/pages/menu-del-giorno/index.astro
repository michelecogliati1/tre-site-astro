---
import Layout from "../../layouts/Layout.astro";

// SEO Data
const seoData = {
  title: "Menù del Giorno a Prezzo Fisso - TRE Grill + Pizzeria",
  description: "Scopri il Menù del Giorno. Scegli tra primi, secondi e contorni con un menù a prezzo fisso, con bevanda e caffè inclusi.",
  canonical: "https://www.ristorantepizzeriatre.it/menu-del-giorno/",
  ogImage: "https://www.ristorantepizzeriatre.it/img/menu-giorno/menu-giorno-ristorante-pizzeria-tre-merate-hero.webp",
  preloadImage: "/img/menu-giorno/menu-giorno-ristorante-pizzeria-tre-merate-hero.webp",
};

// Schema.org per Menu + BreadcrumbList
const schemaOrg = {
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Menu",
      "@id": "https://www.ristorantepizzeriatre.it/menu-del-giorno/#menu",
      "name": "Menù del Giorno - Ristorante Pizzeria TRE",
      "description": "Menù del giorno a prezzo fisso con piatti freschi e di stagione. Diverse formule disponibili con bevande e caffè inclusi.",
      "url": "https://www.ristorantepizzeriatre.it/menu-del-giorno/",
      "mainEntityOfPage": "https://www.ristorantepizzeriatre.it/menu-del-giorno/",
      "inLanguage": "it-IT",
      "offers": {
        "@type": "AggregateOffer",
        "priceCurrency": "EUR",
        "lowPrice": "8.00",
        "highPrice": "15.00",
        "offerCount": "6"
      },
      "hasMenuSection": [
        {
          "@type": "MenuSection",
          "name": "Le Nostre Formule",
          "description": "Diverse proposte di menù del giorno a prezzo fisso, con bevanda e caffè inclusi",
          "hasMenuItem": [
            {
              "@type": "MenuItem",
              "name": "Menù Pizza Tradizionale",
              "description": "Una pizza classica a scelta con bevanda e caffè inclusi",
              "offers": {
                "@type": "Offer",
                "price": "12.00",
                "priceCurrency": "EUR"
              }
            },
            {
              "@type": "MenuItem",
              "name": "Menù Pizza Speciale",
              "description": "Una pizza gourmet a scelta con bevanda e caffè inclusi",
              "offers": {
                "@type": "Offer",
                "price": "15.00",
                "priceCurrency": "EUR"
              }
            },
            {
              "@type": "MenuItem",
              "name": "Menù Completo",
              "description": "Primo, secondo e contorno con bevanda e caffè inclusi",
              "offers": {
                "@type": "Offer",
                "price": "15.00",
                "priceCurrency": "EUR"
              }
            },
            {
              "@type": "MenuItem",
              "name": "Menù Ridotto",
              "description": "Primo e contorno oppure secondo e contorno con bevanda e caffè inclusi",
              "offers": {
                "@type": "Offer",
                "price": "13.00",
                "priceCurrency": "EUR"
              }
            },
            {
              "@type": "MenuItem",
              "name": "Menù Dessert",
              "description": "Primo piatto a scelta e dessert con bevanda e caffè inclusi",
              "offers": {
                "@type": "Offer",
                "price": "13.00",
                "priceCurrency": "EUR"
              }
            },
            {
              "@type": "MenuItem",
              "name": "Menù Primo",
              "description": "Primo piatto a scelta con bevanda e caffè inclusi",
              "offers": {
                "@type": "Offer",
                "price": "8.00",
                "priceCurrency": "EUR"
              }
            }
          ]
        }
      ]
    },
    {
      "@type": "BreadcrumbList",
      "@id": "https://www.ristorantepizzeriatre.it/menu-del-giorno/#breadcrumb",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://www.ristorantepizzeriatre.it/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Menù del Giorno",
          "item": "https://www.ristorantepizzeriatre.it/menu-del-giorno/"
        }
      ]
    },
    {
      "@type": "WebPage",
      "@id": "https://www.ristorantepizzeriatre.it/menu-del-giorno/#webpage",
      "url": "https://www.ristorantepizzeriatre.it/menu-del-giorno/",
      "name": "Menù del Giorno a Prezzo Fisso | Ristorante Pizzeria TRE Merate",
      "isPartOf": {
        "@id": "https://www.ristorantepizzeriatre.it/#website"
      },
      "primaryImageOfPage": {
        "@type": "ImageObject",
        "url": "https://www.ristorantepizzeriatre.it/img/menu-del-giorno/menu-giorno-ristorante-pizzeria-tre-merate-hero.webp"
      },
      "breadcrumb": {
        "@id": "https://www.ristorantepizzeriatre.it/menu-del-giorno/#breadcrumb"
      },
      "inLanguage": "it-IT"
    }
  ]
};
---

<Layout 
  title={seoData.title}
  description={seoData.description}
  canonical={seoData.canonical}
  ogImage={seoData.ogImage}
  preloadImage={seoData.preloadImage}
>
  <!-- Schema.org JSON-LD -->
  <Fragment slot="schema">
    <script type="application/ld+json" set:html={JSON.stringify(schemaOrg)} />
  </Fragment>

  <!-- Hero Section -->
  <section class="hero hero-menu-del-giorno">
    <div class="container hero-content">
      <h1>Menù del Giorno</h1>
      <p>
        Scegli il nostro Menù del Giorno per gustare piatti<br />
        freschi e di stagione a un prezzo fisso
      </p>
      <div class="hero-buttons">
        <a href="#come-funziona" class="btn btn-primary">Come Funziona</a>
        <a href="/contatti/" class="btn btn-outline">Prenota Ora</a>
      </div>
    </div>
  </section>

  <!-- Breadcrumb -->
  <nav class="breadcrumb-nav" aria-label="Breadcrumb">
    <div class="container">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li aria-current="page">Menù del Giorno</li>
      </ol>
    </div>
  </nav>

  <!-- Come funziona -->
  <section class="feature-section" id="come-funziona">
    <div class="container">
      <div class="feature-grid">
        <div class="feature-content">
          <h2>Come funziona</h2>
          <p class="feature-intro">
            Il nostro Menù del Giorno offre piatti stagionali con diverse opzioni a prezzo fisso. Puoi 
            scegliere tra menù completo, solo primo, solo secondo o piatto unico.
          </p>
          <p class="feature-highlight">
            Ogni menù include bevande (acqua, birra piccola, bibita o ¼ di vino) e caffè.
          </p>
          <ul class="feature-steps">
            <li>
              <span class="step-number">1</span>
              <span class="step-text">Scegli la Formula</span>
            </li>
            <li>
              <span class="step-number">2</span>
              <span class="step-text">Scegli i Piatti</span>
            </li>
            <li>
              <span class="step-number">3</span>
              <span class="step-text">Scegli la Bevanda</span>
            </li>
          </ul>
        </div>
        <div class="feature-image">
          <img
            src="/img/menu-giorno/menu-giorno-ristorante-pizzeria-tre-merate-come-funziona.webp"
            alt="Come funziona il Menù del Giorno - Ristorante TRE Merate"
            loading="lazy"
            decoding="async"
            width="600"
            height="450"
          />
        </div>
      </div>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Le Nostre Formule -->
  <section class="formule-section" id="formule">
    <div class="container">
      <div class="section-header">
        <h2>Le Nostre Formule</h2>
        <p>
          Scegli tra le diverse proposte di menù del giorno, pensate per soddisfare ogni palato.
        </p>
      </div>

      <div class="formule-grid">
        <div class="formula-card">
          <div class="formula-icon">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none">
              <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" />
              <path d="M12 12V3" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
              <path d="M12 12L19 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
              <path d="M12 12L5 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
              <circle cx="9.2" cy="10.2" r="1" fill="currentColor" />
              <circle cx="14.6" cy="9.8" r="1" fill="currentColor" />
              <circle cx="12.6" cy="15.4" r="1" fill="currentColor" />

            </svg>
          </div>
          <h3 class="formula-name">Menù Pizza Tradizionale</h3>
          <p class="formula-desc">una pizza classica a scelta</p>
          <span class="formula-price">€ 12</span>
        </div>

        <div class="formula-card">
          <div class="formula-icon">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none">
              <circle cx="11.5" cy="12.5" r="8.5" stroke="currentColor" stroke-width="2" />
              <path d="M11.5 12.5V4.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
              <path d="M11.5 12.5L18 8.7" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
              <circle cx="9.2" cy="11.2" r="1" fill="currentColor" />
              <circle cx="13.2" cy="15.2" r="1" fill="currentColor" />
              <path
                d="M18 3l.8 2.1L21 6l-2.2.9L18 9l-.8-2.1L15 6l2.2-.9L18 3z"
                stroke="currentColor"
                stroke-width="2"
                stroke-linejoin="round"
              />

            </svg>
          </div>
          <h3 class="formula-name">Menù Pizza Speciale</h3>
          <p class="formula-desc">una pizza gourmet a scelta</p>
          <span class="formula-price">€ 15</span>
        </div>

        <div class="formula-card formula-card-featured">
          <div class="formula-badge">Completo</div>
          <div class="formula-icon">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none">
              <path d="M4 17h16" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
              <path d="M6 17a6 6 0 0 1 12 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
              <path d="M8 11a4 4 0 0 1 8 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
              <circle cx="12" cy="7.5" r="1" fill="currentColor" />
              <path d="M12 7.5V6" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
            </svg>
          </div>
          <h3 class="formula-name">Menù Completo</h3>
          <p class="formula-desc">primo, secondo, contorno</p>
          <span class="formula-price">€ 15</span>
        </div>

        <div class="formula-card">
          <div class="formula-icon">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none">
              <circle cx="10.5" cy="12" r="6.5" stroke="currentColor" stroke-width="2" />
              <circle cx="10.5" cy="12" r="2.3" stroke="currentColor" stroke-width="2" />
              <rect x="16" y="13.5" width="5" height="5" rx="1.2" stroke="currentColor" stroke-width="2" />
              <path d="M17.3 16h2.4" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
            </svg>
          </div>
          <h3 class="formula-name">Menù Ridotto</h3>
          <p class="formula-desc">primo e contorno oppure secondo e contorno</p>
          <span class="formula-price">€ 13</span>
        </div>

        <div class="formula-card">
          <div class="formula-icon">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none">
              <path d="M8 10.8a4 4 0 0 1 8 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
              <path d="M7 11h10l-1 10H8L7 11z" stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
              <path d="M9.8 14.2v5.3" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
              <path d="M14.2 14.2v5.3" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
              <path d="M10.2 7.6c1.2-1 2.4-1 3.6 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
            </svg>
          </div>
          <h3 class="formula-name">Menù Dessert</h3>
          <p class="formula-desc">primo piatto a scelta e dessert</p>
          <span class="formula-price">€ 13</span>
        </div>

        <div class="formula-card">
          <div class="formula-icon">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none">
              <path d="M7 14a5 5 0 0 0 10 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
              <path d="M5 17h14" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
              <path d="M9 6c0 1-1 1.2-1 2.1S9 9.3 9 10.2" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
              <path d="M12 6c0 1-1 1.2-1 2.1s1 1.2 1 2.1" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
              <path d="M15 6c0 1-1 1.2-1 2.1S15 9.3 15 10.2" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
            </svg>
          </div>
          <h3 class="formula-name">Menù Primo</h3>
          <p class="formula-desc">primo piatto a scelta</p>
          <span class="formula-price">€ 8</span>
        </div>
      </div>

      <div class="formule-note">
        <p>
          <strong>Tutte le formule includono:</strong> acqua, birra piccola, bibita o ¼ di vino + caffè
        </p>
      </div>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Prenota il Tuo Tavolo CTA -->
  <section class="cta-section cta-section-menu-del-giorno">
    <div class="container">
      <h2>Prenota il Tuo Tavolo</h2>
      <p>
        Prenota comodamente online in pochi click o chiamaci per riservare il tuo tavolo
      </p>
      <a href="/contatti/" class="btn btn-primary">Prenota Ora</a>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Sticky CTA Bottom -->
  <div class="sticky-cta-bottom" id="sticky-cta">
    <div class="sticky-cta-container">
      <div class="sticky-cta-logo">
        <img src="/img/brand/tre-logo.svg" alt="TRE" width="50" height="50" />
      </div>
      <div class="sticky-cta-content">
        <span class="sticky-cta-title">Ristorante Pizzeria TRE</span>
        <span class="sticky-cta-subtitle">Prenota il tuo tavolo</span>
      </div>
      <a href="/contatti/" class="btn btn-primary sticky-cta-btn">Prenota Ora</a>
    </div>
  </div>
</Layout>

<style>
  /* Hero Menu del Giorno */
  .hero-menu-del-giorno {
    background-image:
      linear-gradient(rgba(0, 0, 0, 0.62), rgba(0, 0, 0, 0.62)),
      url('/img/menu-giorno/menu-giorno-ristorante-pizzeria-tre-merate-hero.webp');
  }

  /* CTA Menu del Giorno */
  .cta-section-menu-del-giorno {
    background-image:
      linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65)),
      url('/img/menu-giorno/menu-del-giorno-ristorante-pizzeria-tre-merate-prenota-tavolo.webp');
  }

  /* Feature highlight text */
  .feature-highlight {
    font-size: 20px;
    line-height: 30px;
    color: var(--primary-color);
    font-weight: 600;
    margin-bottom: 2rem;
    padding: 1rem 1.5rem;
    background-color: var(--bg-light-orange);
    border-radius: 8px;
    border-left: 4px solid var(--primary-color);
  }

  @media (max-width: 768px) {
    .feature-highlight {
      font-size: 18px;
      line-height: 26px;
      padding: 0.75rem 1rem;
    }
  }

  /* Feature steps */
  .feature-steps {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-top: 1.5rem;
  }

  .feature-steps li {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .step-number {
    width: 40px;
    height: 40px;
    background-color: var(--primary-color);
    color: var(--text-white);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    font-weight: 700;
    flex-shrink: 0;
  }

  .step-text {
    font-size: 20px;
    font-weight: 600;
    color: var(--text-dark);
  }

  @media (max-width: 768px) {
    .step-number {
      width: 36px;
      height: 36px;
      font-size: 16px;
    }

    .step-text {
      font-size: 18px;
    }
  }

  /* Formule Section */
  .formule-section {
    padding: 4rem 0;
    background-color: var(--bg-light);
  }

  @media (min-width: 768px) {
    .formule-section {
      padding: 5rem 0;
    }
  }

  .formule-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
    margin-bottom: 2rem;
  }

  @media (min-width: 768px) {
    .formule-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 2rem;
    }
  }

  @media (min-width: 1024px) {
    .formule-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  /* Formula Card */
  .formula-card {
    background-color: var(--bg-white);
    border-radius: 12px;
    padding: 2rem 1.5rem;
    text-align: center;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
    position: relative;
    border: 2px solid transparent;
  }

  .formula-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    border-color: var(--primary-light);
  }

  .formula-card-featured {
    border-color: var(--primary-color);
    background: linear-gradient(to bottom, var(--bg-light-orange), var(--bg-white));
  }

  .formula-badge {
    position: absolute;
    top: -12px;
    left: 50%;
    transform: translateX(-50%);
    background-color: var(--primary-color);
    color: var(--text-white);
    padding: 0.25rem 1rem;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .formula-icon {
    width: 70px;
    height: 70px;
    background-color: var(--bg-light-orange);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1.25rem;
    color: var(--primary-color);
  }

  .formula-name {
    font-size: 22px;
    font-weight: 600;
    color: var(--text-dark);
    margin-bottom: 0.5rem;
    line-height: 1.3;
  }

  .formula-desc {
    font-size: 16px;
    line-height: 24px;
    color: var(--text-dark);
    opacity: 0.75;
    margin-bottom: 1rem;
  }

  .formula-price {
    display: inline-block;
    font-size: 28px;
    font-weight: 700;
    color: var(--primary-color);
  }

  @media (max-width: 768px) {
    .formula-card {
      padding: 1.5rem 1.25rem;
    }

    .formula-icon {
      width: 60px;
      height: 60px;
    }

    .formula-icon svg {
      width: 32px;
      height: 32px;
    }

    .formula-name {
      font-size: 20px;
    }

    .formula-price {
      font-size: 24px;
    }
  }

  /* Formule Note */
  .formule-note {
    text-align: center;
    padding: 1.5rem 2rem;
    background-color: var(--bg-white);
    border-radius: 8px;
    border: 2px dashed var(--primary-light);
  }

  .formule-note p {
    font-size: 18px;
    line-height: 26px;
    color: var(--text-dark);
    margin: 0;
  }

  .formule-note strong {
    color: var(--primary-color);
  }

  @media (max-width: 768px) {
    .formule-note {
      padding: 1rem 1.25rem;
    }

    .formule-note p {
      font-size: 16px;
      line-height: 24px;
    }
  }
</style>

<script>
  // Sticky CTA e smooth scroll
  document.addEventListener('DOMContentLoaded', () => {
    // Sticky CTA elements
    const stickyCta = document.getElementById('sticky-cta');
    const heroSection = document.querySelector('.hero');
    const ctaSection = document.querySelector('.cta-section');

    // Gestisce la visibilità della sticky CTA
    const handleStickyCta = () => {
      if (!stickyCta || !heroSection || !ctaSection) return;

      const heroBottom = heroSection.getBoundingClientRect().bottom;
      const ctaTop = ctaSection.getBoundingClientRect().top;
      const windowHeight = window.innerHeight;

      // Mostra quando hero esce dal viewport E cta finale non è ancora visibile
      const shouldShow = heroBottom < 0 && ctaTop > windowHeight - 100;

      if (shouldShow) {
        stickyCta.classList.add('visible');
      } else {
        stickyCta.classList.remove('visible');
      }
    };

    window.addEventListener('scroll', handleStickyCta);
    
    // Check iniziale
    handleStickyCta();

    // Smooth scroll per anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        const href = this.getAttribute('href');
        if (href !== '#' && href !== '#!') {
          e.preventDefault();
          const target = document.querySelector(href);
          if (target) {
            const header = document.getElementById('main-header');
            const headerHeight = header ? header.offsetHeight : 0;
            const targetPosition = target.offsetTop - headerHeight - 20;
            
            window.scrollTo({
              top: targetPosition,
              behavior: 'smooth'
            });
          }
        }
      });
    });
  });
</script>