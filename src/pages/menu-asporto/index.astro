---
import Layout from "../../layouts/Layout.astro";

// SEO Data
const seoData = {
  title: "Menù d'Asporto - Ordina Online e Ritira - TRE Grill + Pizzeria",
  description: "Ordina online i tuoi piatti preferiti. Pizze, primi e secondi preparati con cura. Seleziona l'orario di ritiro e paga in sicurezza online!",
  canonical: "https://www.ristorantepizzeriatre.it/menu-asporto/",
  ogImage: "https://www.ristorantepizzeriatre.it/img/menu-asporto/menu-asporto-ristorante-pizzeria-tre-merate-hero.webp",
  preloadImage: "/img/menu-asporto/menu-asporto-ristorante-pizzeria-tre-merate-hero.webp",
};

// Helper function per generare slug immagine
const toSlug = (name: string) => {
  return name.toLowerCase()
    .normalize("NFD").replace(/[\u0300-\u036f]/g, "")
    .replace(/[''`]/g, "")
    .replace(/\s+/g, "-")
    .replace(/[^\w-]/g, "")
    .replace(/--+/g, "-")
    .trim();
};

// Dati Pizze Tradizionali
const pizzeTradizionali = [
  { nome: "Margherita", desc: "mozzarella e pomodoro (1, 6, 7)", prezzo: "8", slug: "margherita" },
  { nome: "Prosciutto Cotto", desc: "mozzarella, pomodoro e prosciutto cotto (1, 6, 7)", prezzo: "10", slug: "prosciutto-cotto" },
  { nome: "Napoli", desc: "mozzarella, pomodoro, acciughe e origano (1, 4, 6, 7)", prezzo: "9,50", slug: "napoli" },
  { nome: "Bufalina", desc: "mozzarella, pomodoro, mozzarella di bufala e pomodorini (1, 6, 7)", prezzo: "13", slug: "bufalina" },
  { nome: "Parmense", desc: "mozzarella, pomodoro, prosciutto crudo Leporati, scaglie di grana (1, 6, 7)", prezzo: "12", slug: "parmense" },
  { nome: "4 Formaggi", desc: "mozzarella, zola, scamorza affumicata di Battipaglia, taleggio (1, 6, 7)", prezzo: "11", slug: "quattro-formaggi" },
  { nome: "Tirolese", desc: "mozzarella, pomodoro, speck, spinaci* e noci (1, 6, 7, 8)", prezzo: "12", slug: "tirolese" },
  { nome: "Mela Vì", desc: "mozzarella, zola, panna, mele e noci (1, 6, 7, 8)", prezzo: "9,50", slug: "mela-vi" },
  { nome: "Vegetariana", desc: "mozzarella, pomodoro e verdure di stagione alla griglia (1, 6, 7)", prezzo: "13", slug: "vegetariana" },
  { nome: "Wurstel", desc: "mozzarella, pomodoro e wurstel Servelade (1, 6, 7)", prezzo: "9", slug: "wurstel" },
  { nome: "Capitano", desc: "mozzarella, pomodoro, tonno, cipolla (1, 4, 6, 7)", prezzo: "9", slug: "capitano" },
  { nome: "Valtellina", desc: "mozzarella, pomodoro, bresaola, funghi, scaglie di grana (1, 6, 7)", prezzo: "12,50", slug: "valtellina" },
  { nome: "Piacevole", desc: "mozzarella, pomodoro, brie, acciughe, prosciutto cotto (1, 4, 6, 7)", prezzo: "12", slug: "piacevole" },
  { nome: "Montevecchia", desc: "mozzarella, pomodoro, formaggino, cipolla e pancetta (1, 6, 7)", prezzo: "12,50", slug: "montevecchia" },
  { nome: "Zizo", desc: "mozzarella, pomodoro, scamorza, pomodorini e pancetta (1, 6, 7)", prezzo: "11", slug: "zizo" },
  { nome: "Carciofina", desc: "mozzarella, pomodoro, carciofi e scaglie di grana (1, 6, 7)", prezzo: "10", slug: "carciofina" },
  { nome: "Delicata", desc: "mozzarella, prosciutto cotto, zucchine, carciofi, origano (1, 6, 7)", prezzo: "13", slug: "delicata" },
  { nome: "Calabrese", desc: "mozzarella, pomodoro e n'duja (1, 6, 7)", prezzo: "11", slug: "calabrese" },
  { nome: "Nostrana", desc: "mozzarella, pomodoro, funghi, salsiccia, taleggio (1, 6, 7)", prezzo: "13", slug: "nostrana" },
  { nome: "Midu", desc: "mozzarella, pomodoro, ricotta di bufala, melanzane, basilico (1, 6, 7)", prezzo: "10,50", slug: "midu" },
  { nome: "Gratinata", desc: "mozzarella, pomodoro, zucchine, grana gratinato (1, 6, 7)", prezzo: "10", slug: "gratinata" },
  { nome: "Yattaman", desc: "mozzarella, pomodoro, zucchine, gamberetti* (1, 2, 4, 6, 7, 14)", prezzo: "14", slug: "yattaman" },
  { nome: "Jhonny Stecchino", desc: "mozzarella, pomodoro, salsiccia, zola, cipolla, origano (1, 6, 7)", prezzo: "13", slug: "jhonny-stecchino" },
  { nome: "Friarielli", desc: "mozzarella, salsiccia, friarielli, provola (1, 6, 7, 12)", prezzo: "12,50", slug: "friarielli" },
  { nome: "Trevi", desc: "mozzarella, pomodoro, scamorza, trevisana, speck (1, 6, 7)", prezzo: "11", slug: "trevi" },
  { nome: "4 Stagioni", desc: "mozzarella, pomodoro, prosciutto cotto, carciofi, olive, funghi (1, 6, 7)", prezzo: "12", slug: "quattro-stagioni" },
  { nome: "Italiana", desc: "mozzarella, pomodoro, rucola, pomodorini, grana (1, 6, 7)", prezzo: "10", slug: "italiana" },
  { nome: "Forte", desc: "mozzarella, pomodoro, salame piccante, radicchio, pecorino (1, 6, 7)", prezzo: "12", slug: "forte" },
  { nome: "Ufo Robot", desc: "mozzarella, mozzarella di bufala campana DOP al centro, pomodorini, grana (1, 7)", prezzo: "15", slug: "ufo-robot" }
];

// Pizze Speciali
const pizzeSpeciali = [
  { nome: "Anchoas", desc: "Pomodoro, mozz. di bufala DOP, origano, pomodori semi secchi, olive leccino, acciughe Cantabrico \"El Menù\" Selezione Oro (1, 4, 6, 7)", prezzo: "15", slug: "anchoas" }
];

// Filoncini
const filoncini = [
  { nome: "Charlotte", desc: "mozzarella, pomodoro, prosciutto cotto, trevisana, casera (1, 6, 7)", prezzo: "12", slug: "charlotte" },
  { nome: "Gandal", desc: "mozzarella, brie, tonno rosa, cipolla (1, 4, 6, 7)", prezzo: "11", slug: "gandal" },
  { nome: "Remì", desc: "mozzarella, funghi, spinaci*, grana, casera, speck (1, 6, 7)", prezzo: "13", slug: "remi" }
];

// Pizze Vegetariane
const pizzeVegetariane = [
  { nome: "Montebio", desc: "crema di asparagi, carciofi, olive, capperi, cipolle, zucchine (1, 6)", prezzo: "12", slug: "montebio" },
  { nome: "Veggy", desc: "crema di asparagi, melanzane, pomodorini, rucola (1, 6)", prezzo: "12", slug: "veggy" },
  { nome: "Orto Verde", desc: "crema di asparagi, spinaci*, fagiolini, noci, radicchio (1, 6, 8)", prezzo: "13", slug: "orto-verde" }
];

// Antipasti
const antipasti = [
  { nome: "Selezione Salumi", desc: "con formaggini di Montevecchia (7)", prezzo: "13", slug: "salumi-e-formaggi-montevecchia" },
  { nome: "Calamaretti saltati in padella", desc: "con crema di piselli e crumble di pane (1, 14)", prezzo: "14", slug: "calamaretti" },
  { nome: "Acciughe Cantabrico", desc: "con burro bio km 0 e pan brioches fatto in casa (1, 3, 4, 7)", prezzo: "15", slug: "acciughe-del-cantabrico" },
  { nome: "Culatta Leporati", desc: "stagionata 13 mesi con mozzarella di bufala DOP campana (7)", prezzo: "14", slug: "culatta-leporati-e-mozzarella-di-bufala" }
];

// Primi Piatti
const primi = [
  { nome: "Risotto alla barbabietola", desc: "con caprino di Montevecchia e nocciole tostate (7, 8)", prezzo: "14", slug: "risotto-barbabietola" },
  { nome: "Scialatielli di mare", desc: "gamberi, seppie, ... in base alla disponibilità giornaliera (1, 2, 4, 7, 9, 14)", prezzo: "18", slug: "scialatielli-frutti-di-mare" },
  { nome: "Spaghetti vongole", desc: "pomodori datterino gialli e olio alle acciughe (1, 4, 9, 12, 14)", prezzo: "16", slug: "spaghetti-alle-vongole" }
];

// Secondi Piatti
const secondi = [
  { nome: "Fritto misto di pesce", desc: "con code di gambero, calamari, zucchine e carote (1, 2, 4, 14)", prezzo: "22", slug: "fritto-misto-calamari-gamberetti-e-zucchine" },
  { nome: "Zuppa di pesce", desc: "gamberi, seppie, ... in base alla disponibilità giornaliera (1, 2, 4, 7, 9, 14)", prezzo: "18", slug: "zuppetta-di-pesce" },
  { nome: "Cotoletta di vitello", desc: "cotoletta di vitello nazionale alla milanese, cotta nel burro bio chiarificato (1, 3)", prezzo: "25", slug: "cotoletta-di-vitello-alla-milanese" }
];

// Carne alla Griglia
const griglia = [
  { nome: "Tagliata di manzo", desc: "tagliata di manzo (300 gr) con rosmarino di Montevecchia e sale Maldon", prezzo: "20", slug: "tagliata-di-manzo" },
  { nome: "Tagliata patanegra", desc: "tagliata di pluma iberica (300 gr) con radicchio e scaglie di grana (7)", prezzo: "21", slug: "tagliata-di-patanegra-radicchio-e-grana" },
  { nome: "Petto di pollo", desc: "petto di pollo in padella con patate al forno", prezzo: "17", slug: "petto-di-pollo-e-patate-al-forno" },
  { nome: "Filetto di manzo", desc: "filetto di manzo alla piastra (300 gr)", prezzo: "25", slug: "filetto-di-manzo" }
];

// Insalatone
const insalatone = [
  { nome: "Provenzale", desc: "fagiolini, insalata, pomodori, olive, carciofi e tonno (6)", prezzo: "11", slug: "provenzale" },
  { nome: "Mari e monti", desc: "pollo, insalata, code di gambero*, porcini (2)", prezzo: "12", slug: "mari-e-monti" },
  { nome: "Leggera", desc: "misticanza, finocchi, bresaola, grana, noci (7, 8)", prezzo: "13", slug: "leggera" }
];

// Contorni
const contorni = [
  { nome: "Patatine Fritte", desc: "", prezzo: "4", slug: "patatine-fritte" },
  { nome: "Patate al forno", desc: "", prezzo: "5", slug: "patate-al-forno" },
  { nome: "Insalata mista", desc: "", prezzo: "4", slug: "insalata-mista" },
  { nome: "Verdure alla griglia", desc: "", prezzo: "5", slug: "verdure-alla-griglia" }
];

// Dessert
const dessert = [
  { nome: "Panna cotta", desc: "con salsa ai frutti di bosco, al cioccolato o al caramello", prezzo: "7", slug: "panna-cotta-frutti-di-bosco" },
  { nome: "Tiramisù", desc: "Tiramisù classico della tradizione italiana", prezzo: "7", slug: "tiramisu" }
];

// Bevande
const bevande = [
  { nome: "Coca-Cola", desc: "", prezzo: "3", slug: "coca-cola" },
  { nome: "Coca-Cola zero", desc: "", prezzo: "3", slug: "coca-cola-zero" },
  { nome: "Fanta", desc: "", prezzo: "3", slug: "fanta" },
  { nome: "Sprite", desc: "", prezzo: "3", slug: "sprite" },
  { nome: "EstaTHE al limone", desc: "", prezzo: "3", slug: "esta-the-limone" },
  { nome: "EstaTHE alla pesca", desc: "", prezzo: "3", slug: "esta-the-pesca" },
  { nome: "Chinotto Lurisia", desc: "", prezzo: "3", slug: "chinotto-lurisia" }
];

// Birre
const birre = [
  { nome: "Cuor di Pane, Otus 33 cl", desc: "Birra dorata, maltata e fragrante, con note di crosta di pane.", prezzo: "6", slug: "cuor-di-pane-otus-33-cl" },
  { nome: "Global Ipa, Rurale 33 cl", desc: "IPA agrumata e resinosa, con amaro deciso e finale secco.", prezzo: "7", slug: "global-ipa-rurale-33-cl" },
  { nome: "Pale, Vetra 33 cl", desc: "Pale Ale equilibrata, con sentori di agrumi, miele e luppolo delicato.", prezzo: "7", slug: "pale-vetra-33-cl" },
  { nome: "Mc Tiss, Railroad 33 cl", desc: "Stout cremosa, con aromi di caffè, cacao e leggera tostatura.", prezzo: "7", slug: "mc-tiss-railroad-33-cl" },
  { nome: "Superior Analcolica 33 cl", desc: "Birra analcolica rinfrescante, con leggere note di cereali e luppolo.", prezzo: "7", slug: "superior-analcolica-33-cl" },
  { nome: "Weisse, Maisel 50 cl", desc: "Weizen morbida e fruttata, con sentori di banana e chiodi di garofano.", prezzo: "7", slug: "weisse-maisel-50-cl" },
  { nome: "Landbier Blond 50 cl", desc: "Lager dorata e beverina, con profumi di malto e luppolo erbaceo.", prezzo: "7", slug: "landbier-blond-50-cl" },
  { nome: "Redvolution, Otus 75cl", desc: "Red Ale intensa, con note di caramello, frutti rossi e leggera tostatura.", prezzo: "7", slug: "redvolution-otus-75cl" },
  { nome: "Pils2, Otus 75 cl", desc: "Pilsner fresca e fragrante, con amaro bilanciato e profumo floreale.", prezzo: "7", slug: "pils2-otus-75-cl" },
  { nome: "Lolipa, Otus 75 cl", desc: "IPA moderna, con aromi tropicali, agrumati e amaro persistente.", prezzo: "7", slug: "lolipa-otus-75-cl" }
];

// Vini
const vini = [
  { nome: "Lugana, Bulgarini 37,5 cl", desc: "Bianco fresco e minerale, con note di agrumi e fiori bianchi.", prezzo: "12", slug: "lugana-bulgarini-37-5-cl" },
  { nome: "Valpolicella Ripasso, Tommasi 37,5 cl", desc: "Rosso strutturato e armonioso, con sentori di frutti rossi e spezie.", prezzo: "13", slug: "valpolicella-ripasso-tommasi-37-5-cl" },
  { nome: "Prosecco Treviso Brut Millesimato, Villa Erica", desc: "Prosecco vivace e fragrante, con profumi di mela verde e fiori bianchi.", prezzo: "22", slug: "prosecco-treviso-brut-millesimato-villa-erica" },
  { nome: "Franciacorta Brut, Montedelma", desc: "Spumante elegante e cremoso, con perlage fine e note di crosta di pane.", prezzo: "38", slug: "franciacorta-brut-montedelma" },
  { nome: "Trento Doc Rosé Extra Brut", desc: "Rosé raffinato e persistente, con aromi di frutti di bosco e agrumi.", prezzo: "42", slug: "trento-doc-ros-extra-brut" },
  { nome: "Lugana \"Monopolio\", Cantina Gambellara", desc: "Lugana complesso e sapido, con sentori di pesca e mandorla.", prezzo: "18", slug: "lugana-monopolio-cantina-gambellara" },
  { nome: "Gewurztraminer, Toblino", desc: "Aromatico e avvolgente, con profumi di litchi, rosa e spezie dolci.", prezzo: "23", slug: "gewurztraminer-toblino" },
  { nome: "Greco di Tufo, Vigne Irpine", desc: "Bianco strutturato e minerale, con note di frutta gialla e mandorla.", prezzo: "23", slug: "greco-di-tufo-vigne-irpine" },
  { nome: "Chiaretto del Garda, Visconti", desc: "Rosato fresco e fruttato, con sentori di ciliegia e fragolina di bosco.", prezzo: "18", slug: "chiaretto-del-garda-visconti" },
  { nome: "Lagrein Riserva \"Amperg\", Lentsch", desc: "Rosso intenso e vellutato, con note di amarena, cacao e spezie.", prezzo: "23", slug: "lagrein-riserva-amperg-lentsch" },
  { nome: "Valpolicella Ripasso \"Il Sestante\", Tommasi", desc: "Ripasso morbido e corposo, con profumi di frutta matura e vaniglia.", prezzo: "26", slug: "valpolicella-ripasso-il-sestante-tommasi" },
  { nome: "Morellino di Scansano \"Mentore\", Mantelassi", desc: "Rosso toscano equilibrato, con aromi di ciliegia, tabacco e pepe nero.", prezzo: "18", slug: "morellino-di-scansano-mentore-mantelassi" }
];

// Schema.org per Menu + BreadcrumbList
const schemaOrg = {
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Menu",
      "@id": "https://www.ristorantepizzeriatre.it/menu-asporto/#menu",
      "name": "Menù d'Asporto - Ristorante Pizzeria TRE",
      "description": "Menù d'asporto con pizze cotte nel forno a legna, primi piatti, secondi, contorni e dessert. Ordina online e ritira al ristorante.",
      "url": "https://www.ristorantepizzeriatre.it/menu-asporto/",
      "mainEntityOfPage": "https://www.ristorantepizzeriatre.it/menu-asporto/",
      "inLanguage": "it-IT",
      "offers": {
        "@type": "Offer",
        "priceCurrency": "EUR",
        "availability": "https://schema.org/InStock"
      },
      "hasMenuSection": [
        { "@type": "MenuSection", "name": "Pizze Tradizionali", "description": "Pizze classiche cotte nel forno a legna con impasto a lunga lievitazione" },
        { "@type": "MenuSection", "name": "Pizze Speciali", "description": "Pizze con ingredienti premium e selezionati" },
        { "@type": "MenuSection", "name": "Filoncini", "description": "Calzoni croccanti all'esterno e soffici all'interno" },
        { "@type": "MenuSection", "name": "Pizze Vegetariane e Vegane", "description": "Pizze preparate con ingredienti genuini e naturali" },
        { "@type": "MenuSection", "name": "Antipasti", "description": "Selezione di antipasti della tradizione italiana" },
        { "@type": "MenuSection", "name": "Primi Piatti", "description": "Risotti e paste fresche con ingredienti di stagione" },
        { "@type": "MenuSection", "name": "Secondi Piatti", "description": "Secondi di pesce e carne preparati con cura" },
        { "@type": "MenuSection", "name": "Carne alla Griglia", "description": "Tagliate e carni pregiate cotte alla griglia" },
        { "@type": "MenuSection", "name": "Insalatone", "description": "Insalate complete e gustose" },
        { "@type": "MenuSection", "name": "Contorni", "description": "Accompagnamenti e verdure" },
        { "@type": "MenuSection", "name": "Dessert", "description": "Dolci della tradizione italiana" },
        { "@type": "MenuSection", "name": "Bevande", "description": "Bibite e soft drink" },
        { "@type": "MenuSection", "name": "Birre", "description": "Selezione di birre artigianali italiane" },
        { "@type": "MenuSection", "name": "Vini", "description": "Carta vini con etichette selezionate" }
      ]
    },
    {
      "@type": "BreadcrumbList",
      "@id": "https://www.ristorantepizzeriatre.it/menu-asporto/#breadcrumb",
      "itemListElement": [
        { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://www.ristorantepizzeriatre.it/" },
        { "@type": "ListItem", "position": 2, "name": "Menù d'Asporto", "item": "https://www.ristorantepizzeriatre.it/menu-asporto/" }
      ]
    },
    {
      "@type": "WebPage",
      "@id": "https://www.ristorantepizzeriatre.it/menu-asporto/#webpage",
      "url": "https://www.ristorantepizzeriatre.it/menu-asporto/",
      "name": "Menù d'Asporto - Ordina Online e Ritira | Ristorante Pizzeria TRE Merate",
      "isPartOf": { "@id": "https://www.ristorantepizzeriatre.it/#website" },
      "primaryImageOfPage": { "@type": "ImageObject", "url": "https://www.ristorantepizzeriatre.it/img/menu-asporto/menu-asporto-ristorante-pizzeria-tre-merate-hero.webp" },
      "breadcrumb": { "@id": "https://www.ristorantepizzeriatre.it/menu-asporto/#breadcrumb" },
      "inLanguage": "it-IT"
    }
  ]
};

// Menu navigation items
const menuNav = [
  { id: "pizze-tradizionali", label: "Pizze tradizionali" },
  { id: "pizze-speciali", label: "Pizze speciali" },
  { id: "filoncini", label: "Filoncini" },
  { id: "pizze-vegetariane", label: "Pizze vegetariane" },
  { id: "antipasti", label: "Antipasti" },
  { id: "primi", label: "Primi" },
  { id: "secondi", label: "Secondi" },
  { id: "griglia", label: "Griglia" },
  { id: "insalatone", label: "Insalatone" },
  { id: "contorni", label: "Contorni" },
  { id: "dessert", label: "Dessert" },
  { id: "bevande", label: "Bevande" },
  { id: "birre", label: "Birre" },
  { id: "vini", label: "Vini" }
];
---

<Layout 
  title={seoData.title}
  description={seoData.description}
  canonical={seoData.canonical}
  ogImage={seoData.ogImage}
  preloadImage={seoData.preloadImage}
>
  <!-- Schema.org JSON-LD -->
  <Fragment slot="schema">
    <script type="application/ld+json" set:html={JSON.stringify(schemaOrg)} />
  </Fragment>

  <!-- Hero Section -->
  <section class="hero hero-menu-asporto">
    <div class="container hero-content">
      <h1>Menù d'Asporto</h1>
      <p>
        Ordina online i tuoi piatti preferiti e gustali<br />
        comodamente a casa tua.
      </p>
      <div class="hero-buttons">
        <a href="#seleziona-piatti" class="btn btn-primary">Scopri il Menù</a>
        <a href="#come-funziona" class="btn btn-outline">Come funziona</a>
      </div>
    </div>
  </section>

  <!-- Breadcrumb -->
  <nav class="breadcrumb-nav" aria-label="Breadcrumb">
    <div class="container">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li aria-current="page">Menù d'Asporto</li>
      </ol>
    </div>
  </nav>

  <!-- Come Funziona - Coming Soon -->
  <section class="come-funziona-section" id="come-funziona">
    <div class="container">
      <div class="come-funziona-grid">
        <div class="come-funziona-content">
          <h2>Come Funziona</h2>
          <p class="come-funziona-intro">
            Ordina e paga online, seleziona l'orario di ritiro, e passa a ritirare il tuo ordine già pronto all'orario scelto.
          </p>
          
          <ul class="come-funziona-steps">
            <li>
              <strong>Scegli i tuoi piatti:</strong> sfoglia il nostro menù d'asporto e aggiungi al carrello i piatti che vuoi ordinare
            </li>
            <li>
              <strong>Seleziona l'orario di ritiro:</strong> scegli l'orario più comodo per ritirare il tuo ordine
            </li>
            <li>
              <strong>Paga online:</strong> completa il tuo acquisto in modo sicuro con il nostro sistema di pagamento
            </li>
            <li>
              <strong>Ritira senza attese:</strong> ritira il tuo ordine già pronto all'orario selezionato
            </li>
          </ul>
        </div>
        <div class="come-funziona-image">
          <img 
            src="/img/menu-asporto/menu-asporto-ristorante-pizzeria-tre-merate-come-funziona.webp" 
            alt="Come funziona servizio asporto ristorante pizzeria tre merate"
            loading="lazy"
            decoding="async"
            width="600"
            height="400"
          />
        </div>
      </div>

      <!-- Coming Soon Overlay -->
      <div class="coming-soon-overlay">
        <div class="coming-soon-box">
          <div class="coming-soon-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none">
              <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
              <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <h3>Ordini Online in Arrivo!</h3>
          <p>
            Stiamo lavorando per attivare il servizio.Nel frattempo, ordina telefonicamente o via WhatsApp.
          </p>
          <div class="coming-soon-buttons">
            <a href="tel:+390399909913" class="btn btn-primary">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                <path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Chiama Ora
            </a>
            <a href="https://wa.me/393517701704" target="_blank" class="btn btn-whatsapp">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L0 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
              </svg>
              WhatsApp
            </a>
          </div>
        </div>
      </div>

      <!-- Steps Visual -->
      <div class="come-funziona-visual">
        <div class="step-visual">
          <div class="step-number">1</div>
          <span class="step-label">Scegli i Piatti</span>
        </div>
        <div class="step-connector"></div>
        <div class="step-visual">
          <div class="step-number">2</div>
          <span class="step-label">Scegli l'Orario</span>
        </div>
        <div class="step-connector"></div>
        <div class="step-visual">
          <div class="step-number">3</div>
          <span class="step-label">Paga Online</span>
        </div>
        <div class="step-connector"></div>
        <div class="step-visual">
          <div class="step-number">4</div>
          <span class="step-label">Vieni e Ritira</span>
        </div>
      </div>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Menu Secondario Sticky -->
  <nav class="submenu-sticky" id="submenu-sticky">
    <div class="container">
      <ul class="submenu-list">
        {menuNav.map((item, idx) => (
          <li>
            <a href={`#${item.id}`} class={`submenu-link ${idx === 0 ? 'active' : ''}`}>
              {item.label}
            </a>
          </li>
        ))}
      </ul>
    </div>
  </nav>

  <!-- Seleziona i Tuoi Piatti -->
  <section class="seleziona-piatti-section" id="seleziona-piatti">
    <div class="container">
      <div class="section-header">
        <h2>Seleziona i Tuoi Piatti</h2>
        <p>
          Scegli tra le pizze cotte nel forno a legna, primi piatti, secondi e contorni,<br />
          tutti preparati con ingredienti freschi e di qualità.
        </p>
      </div>
    </div>
  </section>

  <!-- Pizze Tradizionali -->
  <section class="asporto-menu-section" id="pizze-tradizionali">
    <div class="container">
      <h3 class="asporto-section-title">Pizze Tradizionali</h3>
      <div class="asporto-grid">
        {pizzeTradizionali.map((pizza) => (
          <div class="asporto-card" data-has-desc={pizza.desc ? "true" : "false"}>
            <div class="asporto-card-inner">
              <div class="asporto-card-front">
                <div class="asporto-card-image" 
                     data-detail-img={`/img/menu-asporto/pizze/${pizza.slug}-dettaglio.webp`}
                     data-item-name={pizza.nome}>
                  <img 
                    src={`/img/menu-asporto/pizze/${pizza.slug}.webp`}
                    alt={`${pizza.nome} pizzeria tre merate`}
                    loading="lazy"
                    decoding="async"
                    width="280"
                    height="350"
                  />
                  <div class="asporto-zoom-overlay">
                    <img 
                      src={`/img/menu-asporto/pizze/${pizza.slug}-dettaglio.webp`}
                      alt={`${pizza.nome} dettaglio`}
                      loading="lazy"
                    />
                  </div>
                  <span class="asporto-zoom-hint">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                      <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                      <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      <path d="M11 8v6M8 11h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </span>
                </div>
                <div class="asporto-card-info">
                  <h4 class="asporto-card-name">{pizza.nome}</h4>
                  <span class="asporto-card-price">€ {pizza.prezzo}</span>
                </div>
                {pizza.desc && (
                  <button class="asporto-card-info-btn" aria-label="Mostra ingredienti">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                      <path d="M12 16v-4M12 8h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </button>
                )}
              </div>
              <div class="asporto-card-back">
                <div class="asporto-card-back-content">
                  <h4 class="asporto-card-name">{pizza.nome}</h4>
                  <p class="asporto-card-desc">{pizza.desc}</p>
                  <span class="asporto-card-price">€ {pizza.prezzo}</span>
                </div>
                <button class="asporto-card-close-btn" aria-label="Chiudi">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Pizze Speciali -->
  <section class="asporto-menu-section asporto-menu-section-alt" id="pizze-speciali">
    <div class="container">
      <h3 class="asporto-section-title">Pizze Speciali</h3>
      <div class="asporto-grid">
        {pizzeSpeciali.map((pizza) => (
          <div class="asporto-card" data-has-desc={pizza.desc ? "true" : "false"}>
            <div class="asporto-card-inner">
              <div class="asporto-card-front">
                <div class="asporto-card-image"
                     data-detail-img={`/img/menu-asporto/pizze/${pizza.slug}-dettaglio.webp`}
                     data-item-name={pizza.nome}>
                  <img 
                    src={`/img/menu-asporto/pizze/${pizza.slug}.webp`}
                    alt={`${pizza.nome} pizzeria tre merate`}
                    loading="lazy"
                    decoding="async"
                    width="280"
                    height="350"
                  />
                  <div class="asporto-zoom-overlay">
                    <img 
                      src={`/img/menu-asporto/pizze/${pizza.slug}-dettaglio.webp`}
                      alt={`${pizza.nome} dettaglio`}
                      loading="lazy"
                    />
                  </div>
                  <span class="asporto-zoom-hint">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                      <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                      <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      <path d="M11 8v6M8 11h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </span>
                </div>
                <div class="asporto-card-info">
                  <h4 class="asporto-card-name">{pizza.nome}</h4>
                  <span class="asporto-card-price">€ {pizza.prezzo}</span>
                </div>
                {pizza.desc && (
                  <button class="asporto-card-info-btn" aria-label="Mostra ingredienti">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                      <path d="M12 16v-4M12 8h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </button>
                )}
              </div>
              <div class="asporto-card-back">
                <div class="asporto-card-back-content">
                  <h4 class="asporto-card-name">{pizza.nome}</h4>
                  <p class="asporto-card-desc">{pizza.desc}</p>
                  <span class="asporto-card-price">€ {pizza.prezzo}</span>
                </div>
                <button class="asporto-card-close-btn" aria-label="Chiudi">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Filoncini -->
  <section class="asporto-menu-section" id="filoncini">
    <div class="container">
      <h3 class="asporto-section-title">Filoncini</h3>
      <div class="asporto-grid">
        {filoncini.map((item) => (
          <div class="asporto-card" data-has-desc={item.desc ? "true" : "false"}>
            <div class="asporto-card-inner">
              <div class="asporto-card-front">
                <div class="asporto-card-image"
                     data-detail-img={`/img/menu-asporto/pizze/${item.slug}-dettaglio.webp`}
                     data-item-name={item.nome}>
                  <img 
                    src={`/img/menu-asporto/pizze/${item.slug}.webp`}
                    alt={`filoncino ${item.nome} pizzeria tre merate`}
                    loading="lazy"
                    decoding="async"
                    width="280"
                    height="350"
                  />
                  <div class="asporto-zoom-overlay">
                    <img 
                      src={`/img/menu-asporto/pizze/${item.slug}-dettaglio.webp`}
                      alt={`${item.nome} dettaglio`}
                      loading="lazy"
                    />
                  </div>
                  <span class="asporto-zoom-hint">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                      <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                      <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      <path d="M11 8v6M8 11h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </span>
                </div>
                <div class="asporto-card-info">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
                {item.desc && (
                  <button class="asporto-card-info-btn" aria-label="Mostra ingredienti">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                      <path d="M12 16v-4M12 8h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </button>
                )}
              </div>
              <div class="asporto-card-back">
                <div class="asporto-card-back-content">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <p class="asporto-card-desc">{item.desc}</p>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
                <button class="asporto-card-close-btn" aria-label="Chiudi">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Pizze Vegetariane -->
  <section class="asporto-menu-section asporto-menu-section-alt" id="pizze-vegetariane">
    <div class="container">
      <h3 class="asporto-section-title">Pizze Vegetariane e Vegane</h3>
      <div class="asporto-grid">
        {pizzeVegetariane.map((pizza) => (
          <div class="asporto-card" data-has-desc={pizza.desc ? "true" : "false"}>
            <div class="asporto-card-inner">
              <div class="asporto-card-front">
                <div class="asporto-card-image"
                     data-detail-img={`/img/menu-asporto/pizze/${pizza.slug}-dettaglio.webp`}
                     data-item-name={pizza.nome}>
                  <img 
                    src={`/img/menu-asporto/pizze/${pizza.slug}.webp`}
                    alt={`${pizza.nome} pizzeria tre merate`}
                    loading="lazy"
                    decoding="async"
                    width="280"
                    height="350"
                  />
                  <div class="asporto-zoom-overlay">
                    <img 
                      src={`/img/menu-asporto/pizze/${pizza.slug}-dettaglio.webp`}
                      alt={`${pizza.nome} dettaglio`}
                      loading="lazy"
                    />
                  </div>
                  <span class="asporto-zoom-hint">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                      <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                      <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      <path d="M11 8v6M8 11h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </span>
                </div>
                <div class="asporto-card-info">
                  <h4 class="asporto-card-name">{pizza.nome}</h4>
                  <span class="asporto-card-price">€ {pizza.prezzo}</span>
                </div>
                {pizza.desc && (
                  <button class="asporto-card-info-btn" aria-label="Mostra ingredienti">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                      <path d="M12 16v-4M12 8h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </button>
                )}
              </div>
              <div class="asporto-card-back">
                <div class="asporto-card-back-content">
                  <h4 class="asporto-card-name">{pizza.nome}</h4>
                  <p class="asporto-card-desc">{pizza.desc}</p>
                  <span class="asporto-card-price">€ {pizza.prezzo}</span>
                </div>
                <button class="asporto-card-close-btn" aria-label="Chiudi">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Antipasti -->
  <section class="asporto-menu-section" id="antipasti">
    <div class="container">
      <h3 class="asporto-section-title">Antipasti</h3>
      <div class="asporto-grid">
        {antipasti.map((item) => (
          <div class="asporto-card" data-has-desc={item.desc ? "true" : "false"}>
            <div class="asporto-card-inner">
              <div class="asporto-card-front">
                <div class="asporto-card-image"
                     data-detail-img={`/img/menu-asporto/cucina/${item.slug}-dettaglio.webp`}
                     data-item-name={item.nome}>
                  <img 
                    src={`/img/menu-asporto/cucina/${item.slug}.webp`}
                    alt={`${item.nome} ristorante pizzeria tre merate`}
                    loading="lazy"
                    decoding="async"
                    width="280"
                    height="350"
                  />
                  <div class="asporto-zoom-overlay">
                    <img 
                      src={`/img/menu-asporto/cucina/${item.slug}-dettaglio.webp`}
                      alt={`${item.nome} dettaglio`}
                      loading="lazy"
                    />
                  </div>
                  <span class="asporto-zoom-hint">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                      <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                      <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      <path d="M11 8v6M8 11h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </span>
                </div>
                <div class="asporto-card-info">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
                {item.desc && (
                  <button class="asporto-card-info-btn" aria-label="Mostra descrizione">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                      <path d="M12 16v-4M12 8h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </button>
                )}
              </div>
              <div class="asporto-card-back">
                <div class="asporto-card-back-content">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <p class="asporto-card-desc">{item.desc}</p>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
                <button class="asporto-card-close-btn" aria-label="Chiudi">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Primi Piatti -->
  <section class="asporto-menu-section asporto-menu-section-alt" id="primi">
    <div class="container">
      <h3 class="asporto-section-title">Primi Piatti</h3>
      <div class="asporto-grid">
        {primi.map((item) => (
          <div class="asporto-card" data-has-desc={item.desc ? "true" : "false"}>
            <div class="asporto-card-inner">
              <div class="asporto-card-front">
                <div class="asporto-card-image"
                     data-detail-img={`/img/menu-asporto/cucina/${item.slug}-dettaglio.webp`}
                     data-item-name={item.nome}>
                  <img 
                    src={`/img/menu-asporto/cucina/${item.slug}.webp`}
                    alt={`${item.nome} ristorante pizzeria tre merate`}
                    loading="lazy"
                    decoding="async"
                    width="280"
                    height="350"
                  />
                  <div class="asporto-zoom-overlay">
                    <img 
                      src={`/img/menu-asporto/cucina/${item.slug}-dettaglio.webp`}
                      alt={`${item.nome} dettaglio`}
                      loading="lazy"
                    />
                  </div>
                  <span class="asporto-zoom-hint">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                      <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                      <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      <path d="M11 8v6M8 11h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </span>
                </div>
                <div class="asporto-card-info">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
                {item.desc && (
                  <button class="asporto-card-info-btn" aria-label="Mostra descrizione">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                      <path d="M12 16v-4M12 8h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </button>
                )}
              </div>
              <div class="asporto-card-back">
                <div class="asporto-card-back-content">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <p class="asporto-card-desc">{item.desc}</p>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
                <button class="asporto-card-close-btn" aria-label="Chiudi">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Secondi Piatti -->
  <section class="asporto-menu-section" id="secondi">
    <div class="container">
      <h3 class="asporto-section-title">Secondi Piatti</h3>
      <div class="asporto-grid">
        {secondi.map((item) => (
          <div class="asporto-card" data-has-desc={item.desc ? "true" : "false"}>
            <div class="asporto-card-inner">
              <div class="asporto-card-front">
                <div class="asporto-card-image"
                     data-detail-img={`/img/menu-asporto/cucina/${item.slug}-dettaglio.webp`}
                     data-item-name={item.nome}>
                  <img 
                    src={`/img/menu-asporto/cucina/${item.slug}.webp`}
                    alt={`${item.nome} ristorante pizzeria tre merate`}
                    loading="lazy"
                    decoding="async"
                    width="280"
                    height="350"
                  />
                  <div class="asporto-zoom-overlay">
                    <img 
                      src={`/img/menu-asporto/cucina/${item.slug}-dettaglio.webp`}
                      alt={`${item.nome} dettaglio`}
                      loading="lazy"
                    />
                  </div>
                  <span class="asporto-zoom-hint">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                      <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                      <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      <path d="M11 8v6M8 11h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </span>
                </div>
                <div class="asporto-card-info">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
                {item.desc && (
                  <button class="asporto-card-info-btn" aria-label="Mostra descrizione">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                      <path d="M12 16v-4M12 8h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </button>
                )}
              </div>
              <div class="asporto-card-back">
                <div class="asporto-card-back-content">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <p class="asporto-card-desc">{item.desc}</p>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
                <button class="asporto-card-close-btn" aria-label="Chiudi">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Carne alla Griglia -->
  <section class="asporto-menu-section asporto-menu-section-alt" id="griglia">
    <div class="container">
      <h3 class="asporto-section-title">Carne alla Griglia</h3>
      <div class="asporto-grid">
        {griglia.map((item) => (
          <div class="asporto-card" data-has-desc={item.desc ? "true" : "false"}>
            <div class="asporto-card-inner">
              <div class="asporto-card-front">
                <div class="asporto-card-image"
                     data-detail-img={`/img/menu-asporto/cucina/${item.slug}-dettaglio.webp`}
                     data-item-name={item.nome}>
                  <img 
                    src={`/img/menu-asporto/cucina/${item.slug}.webp`}
                    alt={`${item.nome} ristorante pizzeria tre merate`}
                    loading="lazy"
                    decoding="async"
                    width="280"
                    height="350"
                  />
                  <div class="asporto-zoom-overlay">
                    <img 
                      src={`/img/menu-asporto/cucina/${item.slug}-dettaglio.webp`}
                      alt={`${item.nome} dettaglio`}
                      loading="lazy"
                    />
                  </div>
                  <span class="asporto-zoom-hint">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                      <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                      <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      <path d="M11 8v6M8 11h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </span>
                </div>
                <div class="asporto-card-info">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
                {item.desc && (
                  <button class="asporto-card-info-btn" aria-label="Mostra descrizione">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                      <path d="M12 16v-4M12 8h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </button>
                )}
              </div>
              <div class="asporto-card-back">
                <div class="asporto-card-back-content">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <p class="asporto-card-desc">{item.desc}</p>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
                <button class="asporto-card-close-btn" aria-label="Chiudi">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Insalatone -->
  <section class="asporto-menu-section" id="insalatone">
    <div class="container">
      <h3 class="asporto-section-title">Insalatone</h3>
      <div class="asporto-grid">
        {insalatone.map((item) => (
          <div class="asporto-card" data-has-desc={item.desc ? "true" : "false"}>
            <div class="asporto-card-inner">
              <div class="asporto-card-front">
                <div class="asporto-card-image"
                     data-detail-img={`/img/menu-asporto/cucina/${item.slug}-dettaglio.webp`}
                     data-item-name={item.nome}>
                  <img 
                    src={`/img/menu-asporto/cucina/${item.slug}.webp`}
                    alt={`insalatona ${item.nome} ristorante pizzeria tre merate`}
                    loading="lazy"
                    decoding="async"
                    width="280"
                    height="350"
                  />
                  <div class="asporto-zoom-overlay">
                    <img 
                      src={`/img/menu-asporto/cucina/${item.slug}-dettaglio.webp`}
                      alt={`${item.nome} dettaglio`}
                      loading="lazy"
                    />
                  </div>
                  <span class="asporto-zoom-hint">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                      <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                      <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      <path d="M11 8v6M8 11h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </span>
                </div>
                <div class="asporto-card-info">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
                {item.desc && (
                  <button class="asporto-card-info-btn" aria-label="Mostra descrizione">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                      <path d="M12 16v-4M12 8h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </button>
                )}
              </div>
              <div class="asporto-card-back">
                <div class="asporto-card-back-content">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <p class="asporto-card-desc">{item.desc}</p>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
                <button class="asporto-card-close-btn" aria-label="Chiudi">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Contorni -->
  <section class="asporto-menu-section asporto-menu-section-alt" id="contorni">
    <div class="container">
      <h3 class="asporto-section-title">Contorni</h3>
      <div class="asporto-grid">
        {contorni.map((item) => (
          <div class="asporto-card" data-has-desc="false">
            <div class="asporto-card-inner">
              <div class="asporto-card-front">
                <div class="asporto-card-image"
                     data-detail-img={`/img/menu-asporto/cucina/${item.slug}-dettaglio.webp`}
                     data-item-name={item.nome}>
                  <img 
                    src={`/img/menu-asporto/cucina/${item.slug}.webp`}
                    alt={`${item.nome} ristorante pizzeria tre merate`}
                    loading="lazy"
                    decoding="async"
                    width="280"
                    height="350"
                  />
                  <div class="asporto-zoom-overlay">
                    <img 
                      src={`/img/menu-asporto/cucina/${item.slug}-dettaglio.webp`}
                      alt={`${item.nome} dettaglio`}
                      loading="lazy"
                    />
                  </div>
                  <span class="asporto-zoom-hint">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                      <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                      <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      <path d="M11 8v6M8 11h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </span>
                </div>
                <div class="asporto-card-info">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Dessert -->
  <section class="asporto-menu-section" id="dessert">
    <div class="container">
      <h3 class="asporto-section-title">Dessert</h3>
      <div class="asporto-grid">
        {dessert.map((item) => (
          <div class="asporto-card" data-has-desc={item.desc ? "true" : "false"}>
            <div class="asporto-card-inner">
              <div class="asporto-card-front">
                <div class="asporto-card-image"
                     data-detail-img={`/img/menu-asporto/cucina/${item.slug}-dettaglio.webp`}
                     data-item-name={item.nome}>
                  <img 
                    src={`/img/menu-asporto/cucina/${item.slug}.webp`}
                    alt={`${item.nome} ristorante pizzeria tre merate`}
                    loading="lazy"
                    decoding="async"
                    width="280"
                    height="350"
                  />
                  <div class="asporto-zoom-overlay">
                    <img 
                      src={`/img/menu-asporto/cucina/${item.slug}-dettaglio.webp`}
                      alt={`${item.nome} dettaglio`}
                      loading="lazy"
                    />
                  </div>
                  <span class="asporto-zoom-hint">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                      <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                      <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      <path d="M11 8v6M8 11h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </span>
                </div>
                <div class="asporto-card-info">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
                {item.desc && (
                  <button class="asporto-card-info-btn" aria-label="Mostra descrizione">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                      <path d="M12 16v-4M12 8h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </button>
                )}
              </div>
              <div class="asporto-card-back">
                <div class="asporto-card-back-content">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <p class="asporto-card-desc">{item.desc}</p>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
                <button class="asporto-card-close-btn" aria-label="Chiudi">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Bevande -->
  <section class="asporto-menu-section asporto-menu-section-alt" id="bevande">
    <div class="container">
      <h3 class="asporto-section-title">Bevande</h3>
      <div class="asporto-grid">
        {bevande.map((item) => (
          <div class="asporto-card" data-has-desc="false">
            <div class="asporto-card-inner">
              <div class="asporto-card-front">
                <div class="asporto-card-image"
                     data-detail-img={`/img/menu-asporto/bibite/${item.slug}-dettaglio.webp`}
                     data-item-name={item.nome}>
                  <img 
                    src={`/img/menu-asporto/bibite/${item.slug}.webp`}
                    alt={`${item.nome} ristorante pizzeria tre merate`}
                    loading="lazy"
                    decoding="async"
                    width="280"
                    height="350"
                  />
                  <div class="asporto-zoom-overlay">
                    <img 
                      src={`/img/menu-asporto/bibite/${item.slug}-dettaglio.webp`}
                      alt={`${item.nome} dettaglio`}
                      loading="lazy"
                    />
                  </div>
                  <span class="asporto-zoom-hint">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                      <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                      <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      <path d="M11 8v6M8 11h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </span>
                </div>
                <div class="asporto-card-info">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Birre -->
  <section class="asporto-menu-section" id="birre">
    <div class="container">
      <h3 class="asporto-section-title">Birre</h3>
      <div class="asporto-grid">
        {birre.map((item) => (
          <div class="asporto-card" data-has-desc={item.desc ? "true" : "false"}>
            <div class="asporto-card-inner">
              <div class="asporto-card-front">
                <div class="asporto-card-image"
                     data-detail-img={`/img/menu-asporto/birre/${item.slug}-dettaglio.webp`}
                     data-item-name={item.nome}>
                  <img 
                    src={`/img/menu-asporto/birre/${item.slug}.webp`}
                    alt={`${item.nome} ristorante pizzeria tre merate`}
                    loading="lazy"
                    decoding="async"
                    width="280"
                    height="350"
                  />
                  <div class="asporto-zoom-overlay">
                    <img 
                      src={`/img/menu-asporto/birre/${item.slug}-dettaglio.webp`}
                      alt={`${item.nome} dettaglio`}
                      loading="lazy"
                    />
                  </div>
                  <span class="asporto-zoom-hint">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                      <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                      <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      <path d="M11 8v6M8 11h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </span>
                </div>
                <div class="asporto-card-info">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
                {item.desc && (
                  <button class="asporto-card-info-btn" aria-label="Mostra descrizione">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                      <path d="M12 16v-4M12 8h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </button>
                )}
              </div>
              <div class="asporto-card-back">
                <div class="asporto-card-back-content">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <p class="asporto-card-desc">{item.desc}</p>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
                <button class="asporto-card-close-btn" aria-label="Chiudi">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Vini -->
  <section class="asporto-menu-section asporto-menu-section-alt" id="vini">
    <div class="container">
      <h3 class="asporto-section-title">Vini</h3>
      <div class="asporto-grid">
        {vini.map((item) => (
          <div class="asporto-card" data-has-desc={item.desc ? "true" : "false"}>
            <div class="asporto-card-inner">
              <div class="asporto-card-front">
                <div class="asporto-card-image"
                     data-detail-img={`/img/menu-asporto/vini/${item.slug}-dettaglio.webp`}
                     data-item-name={item.nome}>
                  <img 
                    src={`/img/menu-asporto/vini/${item.slug}.webp`}
                    alt={`${item.nome} ristorante pizzeria tre merate`}
                    loading="lazy"
                    decoding="async"
                    width="280"
                    height="350"
                  />
                  <div class="asporto-zoom-overlay">
                    <img 
                      src={`/img/menu-asporto/vini/${item.slug}-dettaglio.webp`}
                      alt={`${item.nome} dettaglio`}
                      loading="lazy"
                    />
                  </div>
                  <span class="asporto-zoom-hint">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                      <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                      <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      <path d="M11 8v6M8 11h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </span>
                </div>
                <div class="asporto-card-info">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
                {item.desc && (
                  <button class="asporto-card-info-btn" aria-label="Mostra descrizione">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                      <path d="M12 16v-4M12 8h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </button>
                )}
              </div>
              <div class="asporto-card-back">
                <div class="asporto-card-back-content">
                  <h4 class="asporto-card-name">{item.nome}</h4>
                  <p class="asporto-card-desc">{item.desc}</p>
                  <span class="asporto-card-price">€ {item.prezzo}</span>
                </div>
                <button class="asporto-card-close-btn" aria-label="Chiudi">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Allergeni -->
  <section class="allergens-section">
    <div class="container">
      <div class="allergens-box">
        <h3>Allergeni</h3>
        <p>
          (1) glutine, (2) crostacei, (3) uova, (4) pesce, (5) arachidi, (6) soia, (7) latte, (8) frutta a guscio,
          (9) sedano, (10) senape, (11) semi di sesamo, (12) anidride solforosa, (13) lupini, (14) molluschi
        </p>
        <p class="allergens-note">
          Per intolleranze e allergie chiedere al personale di sala.<br />
          *alcuni prodotti potrebbero essere congelati.
        </p>
      </div>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Prenota il Tuo Tavolo CTA -->
  <section class="cta-section cta-section-asporto">
    <div class="container">
      <h2>Ordina il Tuo Asporto</h2>
      <p>
        Chiama o scrivici su WhatsApp per ordinare i tuoi piatti preferiti
      </p>
      <div class="cta-buttons">
        <a href="tel:+390399909913" class="btn btn-primary">Chiama Ora</a>
        <a href="https://wa.me/393517701704" target="_blank" class="btn btn-outline-white">WhatsApp</a>
      </div>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Sticky CTA Bottom -->
  <div class="sticky-cta-bottom" id="sticky-cta">
    <div class="sticky-cta-container">
      <div class="sticky-cta-logo">
        <img src="/img/brand/tre-logo.svg" alt="TRE" width="50" height="50" />
      </div>
      <div class="sticky-cta-content">
        <span class="sticky-cta-title">Menù d'Asporto</span>
        <span class="sticky-cta-subtitle">Ordina telefonicamente</span>
      </div>
      <a href="tel:+390399909913" class="btn btn-primary sticky-cta-btn">Chiama</a>
    </div>
  </div>

  <!-- Lightbox per visualizzazione dettaglio (mobile) -->
  <div class="lightbox-overlay" id="lightbox">
    <div class="lightbox-content">
      <button class="lightbox-close" aria-label="Chiudi">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
          <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
      <img src="" alt="" id="lightbox-img" />
      <p class="lightbox-caption" id="lightbox-caption"></p>
    </div>
  </div>
</Layout>

<style>
  /* Hero Menu Asporto */
  .hero-menu-asporto {
    background-image:
      linear-gradient(rgba(0, 0, 0, 0.62), rgba(0, 0, 0, 0.62)),
      url('/img/menu-asporto/menu-asporto-ristorante-pizzeria-tre-merate-hero.webp');
  }

  /* CTA Asporto */
  .cta-section-asporto {
    background-image:
      linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65)),
      url('/img/menu-asporto/menu-asporto-ristorante-pizzeria-tre-merate-hero.webp');
  }

  .cta-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  /* ===== SUBMENU ASPORTO - VERSIONE ESTESA (14 voci) ===== */
  .submenu-sticky {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    position: sticky;
  }

  .submenu-sticky .container {
    max-width: none;
    padding: 0;
  }

  .submenu-list {
    justify-content: flex-start;
    gap: 0.5rem;
    padding: 0 1rem;
    overflow-x: auto;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .submenu-list::-webkit-scrollbar {
    display: none;
  }

  .submenu-link {
    font-size: 15px;
    padding: 0.4rem 0.7rem;
    flex-shrink: 0;
    white-space: nowrap;
  }

  @media (min-width: 768px) {
    .submenu-list {
      padding: 0 2rem;
      gap: 0.6rem;
    }

    .submenu-link {
      font-size: 16px;
      padding: 0.45rem 0.85rem;
    }
  }

  @media (min-width: 1400px) {
    .submenu-list {
      justify-content: center;
    }
  }

  /* ===== COME FUNZIONA SECTION ===== */
  .come-funziona-section {
    padding: 4rem 0;
    background-color: var(--bg-light);
    position: relative;
  }

  @media (min-width: 768px) {
    .come-funziona-section {
      padding: 5rem 0;
    }
  }

  .come-funziona-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 3rem;
    align-items: center;
    margin-bottom: 3rem;
    filter: blur(3px);
    opacity: 0.4;
    pointer-events: none;
  }

  @media (min-width: 992px) {
    .come-funziona-grid {
      grid-template-columns: 1fr 1fr;
      gap: 4rem;
    }
  }

  .come-funziona-content h2 {
    font-size: 40px;
    line-height: 48px;
    margin-bottom: 1rem;
    color: var(--text-dark);
  }

  .come-funziona-intro {
    font-size: 20px;
    line-height: 30px;
    color: var(--text-dark);
    opacity: 0.85;
    margin-bottom: 2rem;
  }

  .come-funziona-steps {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .come-funziona-steps li {
    font-size: 18px;
    line-height: 26px;
    color: var(--text-dark);
    padding-left: 1.5rem;
    position: relative;
  }

  .come-funziona-steps li::before {
    content: "•";
    position: absolute;
    left: 0;
    color: var(--primary-color);
    font-weight: 700;
  }

  .come-funziona-steps strong {
    color: var(--primary-color);
  }

  .come-funziona-image {
    border-radius: 12px;
    overflow: hidden;
  }

  .come-funziona-image img {
    width: 100%;
    height: auto;
    display: block;
  }

  @media (max-width: 768px) {
    .come-funziona-content h2 {
      font-size: 32px;
      line-height: 40px;
    }

    .come-funziona-intro {
      font-size: 18px;
      line-height: 28px;
    }
  }

  /* ===== COMING SOON OVERLAY - FIX ===== */
  .coming-soon-overlay {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 10;
    width: 100%;
    max-width: 500px;
    padding: 0 1rem;
  }

  .coming-soon-box {
    background-color: var(--bg-white);
    border-radius: 16px;
    padding: 2rem 1.5rem;
    text-align: center;
    box-shadow: 0 8px 40px rgba(0, 0, 0, 0.15);
    border: 2px solid var(--primary-color);
  }

  @media (min-width: 576px) {
    .coming-soon-box {
      padding: 2.5rem 2rem;
    }
  }

  .coming-soon-icon {
    width: 80px;
    height: 80px;
    background-color: var(--primary-pale);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1.5rem;
    color: var(--primary-color);
  }

  .coming-soon-box h3 {
    font-size: 24px;
    line-height: 30px;
    color: var(--text-dark);
    margin-bottom: 1rem;
  }

  @media (min-width: 576px) {
    .coming-soon-box h3 {
      font-size: 28px;
      line-height: 34px;
    }
  }

  .coming-soon-box p {
    font-size: 15px;
    line-height: 23px;
    color: var(--text-dark);
    opacity: 0.85;
    margin-bottom: 1.5rem;
  }

  @media (min-width: 576px) {
    .coming-soon-box p {
      font-size: 16px;
      line-height: 24px;
      margin-bottom: 2rem;
    }
  }

  /* ===== FIX: PULSANTI COMING-SOON FULL-WIDTH ===== */
  .coming-soon-buttons {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    width: 100%;
  }

  .coming-soon-buttons .btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    font-size: 17px;
    font-weight: 600;
    padding: 14px 28px;
    width: 100%;
    border-radius: 8px;
  }

  .coming-soon-buttons .btn svg {
    width: 22px;
    height: 22px;
  }

  @media (min-width: 480px) {
    .coming-soon-buttons {
      flex-direction: row;
      gap: 1rem;
    }
    
    .coming-soon-buttons .btn {
      flex: 1;
    }
  }

  .btn-whatsapp {
    background-color: #25D366;
    border-color: #25D366;
    color: var(--text-white);
  }

  .btn-whatsapp:hover,
  .btn-whatsapp:active,
  .btn-whatsapp:focus-visible {
    background-color: #1da851;
    border-color: #1da851;
    color: var(--text-white);
  }

  /* ===== FIX: STEPS VISUAL ALLINEATI SU MOBILE ===== */
  .come-funziona-visual {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.5rem;
    flex-wrap: nowrap; /* MAI wrappare */
    filter: blur(3px);
    opacity: 0.4;
    padding: 0 1rem;
  }

  .step-visual {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.4rem;
    flex-shrink: 0;
  }

  .step-number {
    width: 50px;
    height: 50px;
    background-color: var(--primary-color);
    color: var(--text-white);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    font-weight: 700;
  }

  .step-label {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-dark);
    text-align: center;
    white-space: nowrap;
  }

  .step-connector {
    width: 30px;
    height: 2px;
    background-color: var(--primary-light);
    flex-shrink: 0;
  }

  @media (max-width: 600px) {
    .come-funziona-visual {
      gap: 0.25rem;
      padding: 0 0.5rem;
    }

    .step-number {
      width: 40px;
      height: 40px;
      font-size: 18px;
    }

    .step-label {
      font-size: 11px;
    }

    .step-connector {
      width: 16px;
    }
  }

  /* ===== SELEZIONA PIATTI SECTION ===== */
  .seleziona-piatti-section {
    padding: 4rem 0 2rem;
    background-color: var(--bg-white);
    scroll-margin-top: 200px;
  }

  @media (min-width: 992px) {
    .seleziona-piatti-section {
      scroll-margin-top: 220px;
    }
  }

  /* ===== ASPORTO MENU SECTION ===== */
  .asporto-menu-section {
    padding: 3rem 0;
    background-color: var(--bg-white);
    scroll-margin-top: 200px;
  }

  .asporto-menu-section-alt {
    background-color: var(--bg-light);
  }

  @media (min-width: 768px) {
    .asporto-menu-section {
      padding: 4rem 0;
    }
  }

  @media (min-width: 992px) {
    .asporto-menu-section {
      scroll-margin-top: 220px;
    }
  }

  /* ===== FIX: H3 TITOLI ARANCIONI ===== */
  .asporto-section-title {
    font-size: 28px;
    line-height: 36px;
    color: var(--primary-color) !important; /* FORZA ARANCIONE */
    margin-bottom: 1.5rem;
    text-align: center;
    font-weight: 700;
  }

  @media (min-width: 768px) {
    .asporto-section-title {
      font-size: 32px;
      line-height: 40px;
      margin-bottom: 2rem;
    }
  }

  /* ===== FIX: GRID 2 COLONNE SU MOBILE ===== */
  .asporto-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* SEMPRE 2 colonne */
    gap: 1rem;
  }

  @media (min-width: 576px) {
    .asporto-grid {
      gap: 1.25rem;
    }
  }

  @media (min-width: 768px) {
    .asporto-grid {
      grid-template-columns: repeat(3, 1fr);
      gap: 1.5rem;
    }
  }

  @media (min-width: 992px) {
    .asporto-grid {
      gap: 2rem;
    }
  }

  @media (min-width: 1200px) {
    .asporto-grid {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  /* ===== FIX: CARD PIÙ COMPATTE SU MOBILE ===== */
  .asporto-card {
    perspective: 1000px;
    height: 280px;
  }

  @media (min-width: 576px) {
    .asporto-card {
      height: 300px;
    }
  }

  @media (min-width: 768px) {
    .asporto-card {
      height: 320px;
    }
  }

  @media (min-width: 992px) {
    .asporto-card {
      height: 340px;
    }
  }

  .asporto-card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    transform-style: preserve-3d;
  }

  .asporto-card.flipped .asporto-card-inner {
    transform: rotateY(180deg);
  }

  .asporto-card-front,
  .asporto-card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
  }

  .asporto-card-front {
    background-color: var(--bg-white);
    display: flex;
    flex-direction: column;
  }

  /* ===== FIX: IMMAGINE PROPORZIONATA ===== */
  .asporto-card-image {
    height: 190px;
    overflow: hidden;
    position: relative;
    cursor: pointer;
  }

  @media (min-width: 576px) {
    .asporto-card-image {
      height: 210px;
    }
  }

  @media (min-width: 768px) {
    .asporto-card-image {
      height: 225px;
    }
  }

  @media (min-width: 992px) {
    .asporto-card-image {
      height: 240px;
    }
  }

  .asporto-card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center 70%;
    transition: transform 0.5s ease;
  }

  /* ===== FIX: ZOOM SOLO SULL'IMMAGINE ===== */
  .asporto-card-image:hover > img {
    transform: scale(1.05);
  }

  .asporto-zoom-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.92);
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    cursor: zoom-in;
    overflow: hidden;
  }

  .asporto-zoom-overlay img {
    width: 180%;
    height: 180%;
    object-fit: cover;
    object-position: center 65%;
    transform: scale(1);
    transition: transform 0.3s ease;
  }

  /* Desktop: hover mostra zoom SOLO sull'immagine */
  @media (min-width: 769px) {
    .asporto-card-image:hover .asporto-zoom-overlay {
      opacity: 1;
      visibility: visible;
    }
    
    .asporto-card-image:hover .asporto-zoom-overlay img {
      transform: scale(1.05);
    }
  }

  .asporto-zoom-hint {
    position: absolute;
    bottom: 8px;
    left: 8px;
    width: 24px;
    height: 24px;
    background-color: rgba(255, 255, 255, 0.9);
    color: var(--text-dark);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0.6;
    transition: opacity 0.3s ease;
    pointer-events: none;
    z-index: 5;
  }

  @media (min-width: 768px) {
    .asporto-zoom-hint {
      width: 28px;
      height: 28px;
      opacity: 0;
    }
    
    .asporto-card-image:hover .asporto-zoom-hint {
      opacity: 1;
    }
  }

  /* ===== INFO COMPATTA ===== */
  .asporto-card-info {
    flex: 1;
    padding: 0.6rem 0.75rem;
    padding-right: 2.5rem;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    gap: 0.4rem;
    min-height: 55px;
    position: relative;
    cursor: default;
  }

  @media (min-width: 576px) {
    .asporto-card-info {
      padding: 0.7rem 1rem;
      padding-right: 3rem;
      min-height: 60px;
    }
  }

  .asporto-card-name {
    font-size: 13px;
    font-weight: 600;
    line-height: 1.2;
    color: var(--text-dark);
    margin: 0;
    flex: 1;
    text-align: left;
  }

  @media (min-width: 576px) {
    .asporto-card-name {
      font-size: 14px;
    }
  }

  @media (min-width: 768px) {
    .asporto-card-name {
      font-size: 15px;
      line-height: 1.25;
    }
  }

  .asporto-card-price {
    font-size: 14px;
    font-weight: 700;
    color: var(--primary-color);
    white-space: nowrap;
    flex-shrink: 0;
  }

  @media (min-width: 576px) {
    .asporto-card-price {
      font-size: 15px;
    }
  }

  @media (min-width: 768px) {
    .asporto-card-price {
      font-size: 17px;
    }
  }

  /* Info button compatto */
  .asporto-card-info-btn {
    position: absolute;
    bottom: 8px;
    right: 8px;
    width: 26px;
    height: 26px;
    background-color: var(--primary-color);
    color: var(--text-white);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    z-index: 15;
  }

  .asporto-card-info-btn svg {
    width: 16px;
    height: 16px;
  }

  @media (min-width: 576px) {
    .asporto-card-info-btn {
      width: 28px;
      height: 28px;
    }
    
    .asporto-card-info-btn svg {
      width: 18px;
      height: 18px;
    }
  }

  @media (min-width: 768px) {
    .asporto-card-info-btn {
      width: 32px;
      height: 32px;
      bottom: 10px;
      right: 10px;
    }
    
    .asporto-card-info-btn svg {
      width: 20px;
      height: 20px;
    }
  }

  .asporto-card-info-btn:hover {
    background-color: var(--primary-hover);
    transform: scale(1.1);
  }

  /* Back of card */
  .asporto-card-back {
    background-color: var(--primary-color);
    color: var(--text-white);
    transform: rotateY(180deg);
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 1.5rem;
  }

  .asporto-card-back-content {
    text-align: center;
  }

  .asporto-card-back .asporto-card-name {
    color: var(--text-white);
    font-size: 18px;
    margin-bottom: 0.75rem;
    text-align: center;
  }

  .asporto-card-desc {
    font-size: 14px;
    line-height: 1.5;
    color: var(--text-white);
    opacity: 0.9;
    margin: 0 0 1rem;
  }

  @media (max-width: 768px) {
    .asporto-card-desc {
      font-size: 13px;
    }
  }

  .asporto-card-back .asporto-card-price {
    color: var(--text-white);
    font-size: 20px;
  }

  .asporto-card-close-btn {
    position: absolute;
    top: 12px;
    right: 12px;
    width: 32px;
    height: 32px;
    background-color: rgba(255, 255, 255, 0.2);
    color: var(--text-white);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
  }

  .asporto-card-close-btn:hover {
    background-color: rgba(255, 255, 255, 0.3);
  }

  .asporto-card[data-has-desc="false"] .asporto-card-inner {
    transform: none !important;
  }

  .asporto-card[data-has-desc="false"] .asporto-card-back {
    display: none;
  }

  /* ===== LIGHTBOX (MOBILE) ===== */
  .lightbox-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.95);
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
  }

  .lightbox-overlay.active {
    opacity: 1;
    visibility: visible;
  }

  .lightbox-content {
    position: relative;
    max-width: 95vw;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .lightbox-content img {
    max-width: 100%;
    max-height: 80vh;
    object-fit: contain;
    border-radius: 8px;
  }

  .lightbox-caption {
    color: var(--text-white);
    text-align: center;
    margin-top: 1rem;
    font-size: 18px;
    font-weight: 600;
  }

  .lightbox-close {
    position: absolute;
    top: -50px;
    right: 0;
    width: 44px;
    height: 44px;
    background-color: var(--primary-color);
    color: var(--text-white);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    transition: all 0.3s ease;
  }

  .lightbox-close:hover {
    background-color: var(--primary-hover);
    transform: scale(1.1);
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    initCardFlip();
    initLightbox();
    initSubmenu();
    initStickyCta();
  });

  function initCardFlip() {
    const cards = document.querySelectorAll('.asporto-card[data-has-desc="true"]');
    
    cards.forEach(card => {
      const infoBtn = card.querySelector('.asporto-card-info-btn');
      const closeBtn = card.querySelector('.asporto-card-close-btn');
      
      if (infoBtn) {
        infoBtn.addEventListener('click', (e) => {
          e.stopPropagation();
          card.classList.add('flipped');
        });
      }
      
      if (closeBtn) {
        closeBtn.addEventListener('click', (e) => {
          e.stopPropagation();
          card.classList.remove('flipped');
        });
      }
    });
  }

  function initLightbox() {
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightbox-img');
    const lightboxCaption = document.getElementById('lightbox-caption');
    const lightboxClose = lightbox?.querySelector('.lightbox-close');
    
    if (!lightbox) return;
    
    const cardImages = document.querySelectorAll('.asporto-card-image[data-detail-img]');
    const isMobile = () => window.innerWidth <= 768;
    
    cardImages.forEach(cardImage => {
      cardImage.addEventListener('click', (e) => {
        if (isMobile()) {
          e.preventDefault();
          e.stopPropagation();
          
          const detailImg = cardImage.dataset.detailImg;
          const itemName = cardImage.dataset.itemName;
          
          if (detailImg && lightboxImg) {
            lightboxImg.src = detailImg;
            lightboxImg.alt = itemName + ' dettaglio';
            if (lightboxCaption) lightboxCaption.textContent = itemName;
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
          }
        }
      });
    });
    
    const closeLightbox = () => {
      lightbox.classList.remove('active');
      document.body.style.overflow = '';
      if (lightboxImg) lightboxImg.src = '';
    };
    
    if (lightboxClose) {
      lightboxClose.addEventListener('click', closeLightbox);
    }
    
    lightbox.addEventListener('click', (e) => {
      if (e.target === lightbox) {
        closeLightbox();
      }
    });
    
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && lightbox.classList.contains('active')) {
        closeLightbox();
      }
    });
  }

  function initSubmenu() {
    const header = document.getElementById('main-header');
    const submenu = document.getElementById('submenu-sticky');
    const submenuList = document.querySelector('.submenu-list');
    const submenuLinks = document.querySelectorAll('.submenu-link');
    const sections = document.querySelectorAll('.asporto-menu-section[id], .seleziona-piatti-section[id]');

    const getOffset = () => {
      const headerHeight = header ? header.offsetHeight : 0;
      const submenuHeight = submenu ? submenu.offsetHeight : 0;
      return headerHeight + submenuHeight + 40;
    };

    const scrollSubmenuToActiveLink = (activeLink) => {
      if (!submenuList || !activeLink) return;
      if (window.innerWidth > 768) return;

      const scrollLeft = activeLink.offsetLeft - 16;
      submenuList.scrollTo({
        left: scrollLeft,
        behavior: 'smooth'
      });
    };

    const highlightActiveLink = () => {
      const scrollPos = window.scrollY + getOffset() + 50;

      sections.forEach((section) => {
        const sectionTop = section.offsetTop;
        const sectionHeight = section.offsetHeight;
        const sectionId = section.getAttribute('id');

        if (scrollPos >= sectionTop && scrollPos < sectionTop + sectionHeight) {
          submenuLinks.forEach((link) => {
            const wasActive = link.classList.contains('active');
            link.classList.remove('active');
            
            if (link.getAttribute('href') === `#${sectionId}`) {
              link.classList.add('active');
              if (!wasActive) {
                scrollSubmenuToActiveLink(link);
              }
            }
          });
        }
      });
    };

    window.addEventListener('scroll', highlightActiveLink);

    submenuLinks.forEach((link) => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const targetId = link.getAttribute('href');
        const targetSection = document.querySelector(targetId);
        if (targetSection) {
          const targetPosition = targetSection.offsetTop - getOffset();
          window.scrollTo({
            top: targetPosition,
            behavior: 'smooth'
          });
          scrollSubmenuToActiveLink(link);
        }
      });
    });

    document.querySelectorAll('a[href^="#"]').forEach((link) => {
      if (!link.classList.contains('submenu-link')) {
        link.addEventListener('click', (e) => {
          const targetId = link.getAttribute('href');
          if (targetId === '#' || targetId === '#!') return;
          
          e.preventDefault();
          const targetSection = document.querySelector(targetId);
          if (targetSection) {
            const targetPosition = targetSection.offsetTop - getOffset() + 20;
            window.scrollTo({
              top: targetPosition,
              behavior: 'smooth'
            });
          }
        });
      }
    });
  }

  function initStickyCta() {
    const stickyCta = document.getElementById('sticky-cta');
    const heroSection = document.querySelector('.hero');
    const ctaSection = document.querySelector('.cta-section');

    if (!stickyCta || !heroSection || !ctaSection) return;

    const handleScroll = () => {
      const heroBottom = heroSection.getBoundingClientRect().bottom;
      const ctaTop = ctaSection.getBoundingClientRect().top;
      const windowHeight = window.innerHeight;

      const shouldShow = heroBottom < 0 && ctaTop > windowHeight - 100;

      if (shouldShow) {
        stickyCta.classList.add('visible');
      } else {
        stickyCta.classList.remove('visible');
      }
    };

    window.addEventListener('scroll', handleScroll);
    handleScroll();
  }
</script>